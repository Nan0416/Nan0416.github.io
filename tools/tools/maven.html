<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Oct 08 22:41:36 PDT 2017 -->
<title>Tools&nbsp;Maven</title>
<meta charset="utf-8">
<meta name="date" content="2018-03-08">
<meta name="keywords" content="maven">
<meta name="keywords" content="java">
<meta name="keywords" content="tools">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/XRegExp.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shCore.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushCpp.js"></script>
<link href="../../syntaxHighlight_css_c/shCore.css" rel="stylesheet" type="text/css" />
<link href="../../syntaxHighlight_css_c/shThemeDefault.css" rel="stylesheet" type="text/css" />



</head>
<body>
<script>
SyntaxHighlighter.config.strings.expandSource = '+ expand source';
SyntaxHighlighter.config.strings.help = '?';
SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
SyntaxHighlighter.defaults['pad-line-numbers'] = false;
SyntaxHighlighter.defaults['toolbar'] = false;
SyntaxHighlighter.all()
</script>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="bar">
<center><strong>Tools&nbsp;-&nbsp;Maven</strong></center>
</div>
<p class="date"><span class="created-date">Created:2018-03-08</span>&nbsp;&nbsp;<span class="last-modified">Last modified:2018-03-08</span></p>
<div class="catalog">
<ul class="catalogItems">
<li><a href="#mavenIntro">Introduction</a></li>
<li><a href="#mavenPom">POM</a></li>
<li><a href="#mavenPlugin">Plug-ins (commands)</a></li>
<li><a href="#mavenBuildLifeCycle">Build LifeCycle</a></li>
<li><a href="#mavenReference">References</a></li>
</ul>
</div>
<hr>
<div class="contentContainer">
<ol>
<li>
<div class="content" id="mavenIntro">
<h3>Introduction</h3>
<p>Maven is a (java) software project management tools. It helps java project to compile, and download the required 3rd party packages.</p>
<h4>How does maven work?</h4>
<p>All maven's functionalities are based on <strong>plug-ins</strong>. Maven itself is developed by Java. Each plug-in is a .jar file.</p>
<p>Each plug-ins may have serveral <i><strong>goals</strong></i>. The goal is just a task. For example, the compiler plug-in has the goal of compiling application source; compiling test case; display help information. To invoke a goal, run <i><strong>mvn plug-in:goal -Doptional-arguments</strong></i>.</p>
<p>For example, when running <i>mvn compile</i>, the mvn program will use the Java dynamic load class feature to load the compile .jar file. And then the compile .jar file will compile the project.</p>
<p>The load class feature is supported by the <i>plexus-classworld</i> framework.</p>
<h4>Maven project structure</h4>
<div class="asm" style="margin-right:700px">
<pre>
    pom.xml
    src/
        main/
            java/
                package
        test/
            java/
                package
        [resources/]
    target/
        classes/
        maven-status/
        surefire-reports/
        test-classes/

</pre>
</div>
<p>The main directory is stored the source code; The test directory is for testing the source code, such as using junit.</p>
<p>resources is optional. It stores images and other resource files.</p>
<h4>POM (Project Object Model)</h4>
<p>The file contains information about how to build the project. Information includes dependent packages name and version, source directory location, output location</p>
<p>target is generate by the compiler plugin.</p>
</div>
</li>
<li>
<div class="content" id="mavenPom">
<h3>POM (Project Object Model)</h3>
<p>The file contains information about how to build the project. Information includes dependent packages name and version, source directory location, output location</p>
<div class="termnology">
<h4>Terms</h4>
<ul>
<li>SuperPOM: a pom that is inherited by all user-define pom. See the <a href="./pom-4.0.0.xml" target="_blank">SuperPOM</a></li>
<li>Repository: the location of for getting the dependent java .jar and maven plugins. Local directory (.m2/reposity) and remote directory</li>
<li>Reporting: </li>
</ul>
</div>
<h4>Inside the super pom, it defines</h4>
<div class="featureList">
<ol>
<li>the location of the central remote repository for package and maven plugins (where to download).</li>
<li>Source code and output directory</li>
<li>Reporting directory</li>
<li>Core plugins and their version, e.g. maven-compiler-plugin</li>
</ol>
</div>
<h4>User-defined minimal POM</h4>
<p>It needs to specify the project name, version. And its dependencies.</p>
<div class="asm" style="margin-right:400px">
<pre>
  &lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  &lt;modelVersion>4.0.0&lt;/modelVersion>

    &lt;groupId>com.maven.practice&lt;/groupId>
    &lt;artifactId>maven-pratice-01&lt;/artifactId>
    &lt;version>0.0.1-SNAPSHOT&lt;/version>

  &lt;/project>
</pre>

</div>
</div>
</li>
<li>
<div class="content" id="mavenPlugin">
<h3>Plug-ins (commands)</h3>
<p>Plug-ins are just .jar packages. Each jar package achieves a collection of goals, which are simple tasks, such as compile, run test cases. Most of the plug-ins have a common goal, help, which prints the help message.</p>
<p>A goal may allow the user to input arguments by using the format -Darg_name=arg_value. </p>
<p>To invoke a goal, run <i>mvn plugin:goal [-Darg_name=arg_vale]</i></p>
<div class="featureList">
<h4>Plug-ins</h4>
<ol>
<li>
<h4><a href="https://maven.apache.org/archetype/maven-archetype-plugin/" target="_blank">archetype</a></h4>
<p>Automatically generate a skeleton project structure, i.e. the directories and pom.xml, based on a template or a existing project.</p>
<div class="featureList">
<ol>
<li>
<p><strong><i>Generate from a template</i></strong></p>
<div class="asm" style="margin-right:300px">
<pre>
$ mvn archetype:generate
# It would ask groupId, artifactId, version and package
# groupId = package name e.g. com.maven.practice
# artifactId = project name (It will be the name of the top level directory) e.g. maven-practice
# version = version number e.g. 0.0.1-SNAPSHOT
# package = package

</pre>
</div>
</li>
</ol>
</div>
</li>

<li>
<h4><a href="https://maven.apache.org/plugins/maven-compiler-plugin/" target="_blank">compiler</a></h4>
<p>Compile the source.</p>
<div class="featureList">
<ol>
<li>
<p><strong><i>Compile the source code</i></strong></p>
<div class="asm" style="margin-right:300px">
<pre>
$ mvn compiler:compile

</pre>
</div>
</li>
</ol>
</div>
</li>

<li>
<h4><a href="https://maven.apache.org/plugins/maven-jar-plugin/" target="_blank">jar</a></h4>
<p>Generate the jar package. It has 3 goals: help, jar, test-jar, and 2 deprecated goals: sign, sign-verify</p>
<div class="featureList">
<ol>
<li>
<p><strong><i>Generate the jar package of the source code, output is in the target directory</i></strong></p>
<div class="asm" style="margin-right:300px">
<pre>
$ mvn jar:jar

</pre>
</div>
</li>
</ol>
</div>
</li>

<li>
<h4><a href="https://maven.apache.org/plugins/maven-install-plugin/" target="_blank">install</a></h4>
<p>copy jar package to local repo. It has 3 goals: help, install, install-file</p>
<p>Suppose you develop your own package and it does not exist in the central repository. And your another project wants to use this .jar. </p>
<p>Modify the local repo location. Go to the maven installation directory, open the conf/setting.xml. add &lt;localReposity>new_path&lt>/localReposity></p>
<div class="featureList">
<ol>
<li>
<p><strong><i>Copy the project's package to the local repo</i></strong></p>
<div class="asm" style="margin-right:300px">
<pre>
$ mvn install:install
# just run the single goal would cause error, run mvn jar:jar install:install. First generate the package, then install.
</pre>
</div>
</li>
<li>
<p><strong><i>Copy the project's package to the local repo</i></strong></p>
<div class="asm" style="margin-right:300px">
<pre>
$ mvn install:install-file -Dfile=... [-DpomFile]
# may used to install an unofficial package
</pre>
</div>
</li>
</ol>
</div>
</li>

</ol>
</div>
</div>
</li>

<li>
<div class="content" id="mavenBuildLifeCycle">
<h3>Build Lifecycle</h3>
<p>Maven project lifecycle has 7 phases.</p>
<div class="featureList">
<ol>
<li>validate: </li>
<li>compile:</li>
<li>test: run the test case</li>
<li>package:</li>
<li>verify: beside test, it also package the project. [== package]</li>
<li>install: install package in the local repo.</li>
<li>deploy: copy package to the remote repo.</li>
</ol>
</div>
<p>To process each maven lifecycle, just input <i>mvn lifecycle</i> e.g. mvn validate.</p>
<p style="color:red">*** These commands are not plugins, it is a combination of different plugin-goals defined by Maven***</p>
<p>e.g. mvn compile is a combination of the resources:resources and compiler:compile.</p>
</div>
</li>

</ol>
</div>
    
</body>
</html>
