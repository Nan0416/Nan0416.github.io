<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Oct 08 22:41:36 PDT 2017 -->
<title>Display&nbsp;--&nbsp;ST7735</title>
<meta charset="utf-8">
<meta name="date" content="2018-01-11">
<meta name="keywords" content="display">
<meta name="keywords" content="st7735">
<meta name="keywords" content="tft">

<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>

<!-- ========= START OF TOP NAVBAR ======= -->
<div class="bar">
<center><strong>Display&nbsp;-&nbsp;ST7735&nbsp;TFT</strong></center>
</div>
<div class="catalog">
<ul class="catalogItems">
<li><a href="#lcdIntro">Introduction</a></li>
<li><a href="#lcdDisplay">Display</a></li>
<li><a href="#lcdDriver">Driver</a></li>
<li><a href="#st7735WorkingFlow">Working flow</a></li>
<li><a href="#st7735Examples">Examples</a></li>
<li><a href="#st7735Reference">Reference</a></li>
</ul>
</div>
<hr>
<div class="contentContainer">
<ol>
<li>
<div class="content" id="st7735Intro">
<h3>Introduction</h3>
<h4>Display module</h4>
<p>A display module shown in the picture consists a raw pixel-dot-clock display and a display driver chip. The raw displays can have different sizes and materials, such as AMOLED, OLED, TFT and LCD. 
The display drivers are designed for supporting different raw displays. For example, the ST7735 is a TFT-LCD with maximum 132 * 162 resolution (pixels). The sophisticated processors, such as ARM Cortex-A, have integrated 
display driver, which means no external display driver is required.</p>
<h4>How does an LCD works?</h4>
<p><img src="./img/display.jpg" width="250" height="200">[2]</p>
<p>LCD stands for Liquid Crystal Display, it takes the advantage of the crystal can be moved by electric field. The crystals do not emit light, but they can block light. The crystals can be placed perpendicular to the light source 
by a proper electric field so that they allow the light that comes from backlight source to pass. A crystal and the component that controls the crystal compose a segment. A pixel consists 3 segment for red, green and blue.
</p>
<p><img src="./img/segments.png" width="250" height="200">[3]</p>
<p>The TFT display can drive 3 segments (1 pixel) at each time (one clock cycle). And to control a pixel, 24 lines (bits) may be required (The actual number of bits depends on the color level). 
Therefore, it requires 320 cycle to fully set an 320-pixel display.</p>
<p>The TFT-LCD requires 4 basic timing signals (时序信号): VSYNC, HSYNC, LCDCLK and D0...DXX.</p>
<div class="termnology">
<h4>Terms</h4>
<ul>
<li>VSYNC (Vertical Sync): Used to reset the LCD row pointer to top of the display.</li>
<li>HSYNC (Horizontal Sync): Used to reset the LCD column pointer to the edge of the display.</li>
<li>LCDCLK (LCD clock): Used to panel control refresh rate</li>
<li>D0...DXX(1 or more data lines): transfer RGB value.</li>
</ul>
</div>
<p>Other additional timing signals: LCD power, backlight power, touchscreen.</p>
<h4>LCD working timing</h4>
<p>LCD display is refreshed row by row from top to bottom. A refresh timing starts with the VSYNC signal. Inside each row, it refreshs column by column from left to right starting with HSYNC. Each LCD clock sets one pixel.</p>
<p><img src="./img/lcdtiming.png" width="700" height="250">[3]</p>
<h4>LCD characters LQ043[3]</h4>
<p><img src="./img/lq043.png" width="300" height="200"></p>
<p>Suppose the clock frquency is 9MHz. One cycle is 1/9 us. Refreshing one line is 525 / 9 us. Refreshing one frame is 525 / 9 * 286 = 16683 us. The frequency is 1000,000 / 16683 = 59.9 Hz.</p>
<div class="termnology">
<h4>Important parameters of a TFT display</h4>
<ul>
<li>horizontal sync frequency: frquency of writing a horizontal line.</li>
<li>vertical sync frequency: frquency of refreshing a frame</li>
<li>bandwidth:</li>
<li>dot clock:</li>
</ul>
</div>
<h4>ST7735</h4>
<p>The Sitronix ST7735 is a single-chip driver/controller for 128x160 pixel TFT-LCD displays. It can accept both serial and 8/9/16/18 bit parallel interfaces, and I2C and SPI serial interface.
The ST7735 supports over 50 different commands. Many of these commands fine-tune the power output and color intensity settings, allowing you to correct for LCD display variations. 
</p>
<h4>Breakout Board pinout[1]</h4>
<p>
<img src="./img/1.8TFT-Display-V1.0-Pin-Out.png" width="250" height="250">
</p>
<div class="generalTable">
<h4>Pin discription</h4>
<table>
<tr><th>Pin</th><th>Meaning</th></tr>
<tr><td>Pin16 LED-</td><td>GND</td></tr>
<tr><td>Pin15 LED+</td><td>3.3V working voltage</td></tr>
<tr><td>Pin10 CS</td><td>SPI slave enabling</td></tr>
<tr><td>Pin9 SCK</td><td>SPI clock signal</td></tr>
<tr><td>Pin8 SDA</td><td>SPI MOSI</td></tr>
<tr><td>Pin7 A0</td><td>ST7735 data/command switching bit. cmd=0; data=1</td></tr>
<tr><td>Pin6 Reset</td><td>ST7735 reset pin</td></tr>
</table>
</div>
</div>
</li>
<li>
<div class="content" id="st7735WorkingFlow">
<h3>Working flow</h3>
<div class="featureList">
<ol>
<li>
<p><span style="font-weight:bold">Initialization</span>: reset the ST7735's registers to their initial values. Two ways to initialize the ST7735.</p>
<p>Hardware: pull the reset pin to low for 1ms to trigger the reset process, and then back to high. Wait 200ms for the ST37735 finishing the reset process.</p>
<p>Software: ...</p>
</li>
<li>
<p><span style="font-weight:bold">Wakeup</span>: After reset, ST7735 enters the sleep mode. Wake it up by sending the cmd ST7735_SLPOUT (0x11). And then delay for 250ms.</p>
</li>
<li>
<p><span style="font-weight:bold">Select color mode</span>: Sending the cmd ST7735_COLMOD (0x3a) with data 0x05 (16-bit color).</p>
</li>
<li>
<p><span style="font-weight:bold">Turn on the display</span>: Sending the cmd ST7735_DISPON (0x29).</p>
</li>
</ol>
</div>
</div>
</li>
<li>
<div class="content" id="st7735Reference">
<h3>References</h3>
<div class="featureList">
<ul>
<li><a href="http://henrysbench.capnfatz.com/henrys-bench/arduino-displays/1-8tft-v1-0-st7736-arduino-tutorial-1-hello-world/" target="_blank">1.8TFT V1.0 ST7736 Arduino Tutorial 1: Hello World</a></li>
<li><a href="https://www.adafruit.com/product/2354?gclid=CjwKCAiA1uHSBRBUEiwAkBCtzbYMeAsmKDBQ4Gl4FV3QlrccJXewjIp-1xLYe0SlqwOwUJ98ce-48hoCMBsQAvD_BwE" target="_blank">Adafruit 7.0" 40-pin TFT-LCD display</a></li>
<li><a href="https://www.nxp.com/wcm_documents/techzones/microcontrollers-techzone/Presentations/graphics.lcd.technologies.pdf" target="_blank">Introduction to graphics and LCD technologies</a><a href="graphics.lcd.technologies.pdf" target="_blank">.</a></li>
<li><a href="http://w8bh.net/avr/AvrTFT.pdf" target="_blank">Add a TFT Display to your AVR Micro</a><a href="AvrTFT.pdf" target="_blank">.</a></li>
</ul>
</div>
</div>
</li>
</ol>
</div>
    
</body>
</html>
