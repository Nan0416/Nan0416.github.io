<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Oct 08 22:41:36 PDT 2017 -->
<title>Basic--HTML</title>
<meta charset="utf-8">
<meta name="date" content="2018-04-04">
<meta name="keywords" content="html">
<meta name="keywords" content="markup">
<meta name="keywords" content="frontend">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/XRegExp.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shCore.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushCpp.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushJava.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushJScript.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushBash.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushXml.js"></script>
<link href="../../syntaxHighlight_css_c/shCore.css" rel="stylesheet" type="text/css" />
<link href="../../syntaxHighlight_css_c/shThemeDefault.css" rel="stylesheet" type="text/css" />
<script src="https://code.jquery.com/jquery-3.3.1.js"></script>


</head>
<body>
<script>
SyntaxHighlighter.config.strings.expandSource = '+ expand source';
SyntaxHighlighter.config.strings.help = '?';
SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
SyntaxHighlighter.defaults['pad-line-numbers'] = false;
SyntaxHighlighter.defaults['toolbar'] = false;
SyntaxHighlighter.all()
</script>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="bar">
<strong>Basic&nbsp;end-&nbsp;HTML</strong>
</div>
<p class="date"><span class="created-date">Created:2018-04-04</span>&nbsp;&nbsp;<span class="last-modified">Last modified:2018-11-23</span></p>
<div class="catalog">
<ul class="catalogItems">
<li><a href="#htmlIntro">Introduction</a></li>
<li><a href="#htmlExample">Simple Examples</a></li>
<li><a href="#file">File Upload</a></li>
<li><a href="#drag">HTML Drag/Drop</a></li>
<li><a href="#reference">Reference</a></li>
</ul>
</div>
<hr>
<div class="contentContainer">
<ol>
    <li>
        <div class="content" id="htmlIntro">
            <h3>Introduction</h3>
            <p>HTML hypertext markup language</p>
            <h4>HTML5</h4>
        </div>
    </li>
<li>
<div class="content" id="htmlExample">
<h3>Simple Examples</h3>
<div class="featureList">
<ol>
<li>
<h4>Head section</h4>
<pre class="brush:xml">
&lt;meta charset="utf-8"> &lt;!-- meta is unclosed tag-->
&lt;meta http-equiv="refresh" content=30>
&lt;meta name="keywords" content="tutorial,programming">
&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"> &lt;!--responsive design-->
&lt;title>Front end&lt;/title>
</pre>
</li>
<li>
<h4>Formatting</h4>
<pre class="brush:xml">
&lt;code>code section&lt;/code>
&lt;b>bold&lt;/b>
&lt;strong>strong&lt;/strong>
&lt;i>italic&lt;/i>
&lt;mark>marked, a yellow background&lt;/mark>
&lt;sub>subscripted&lt;/sub>
&lt;sup>superscripted&lt;/sup>
&lt;q>quoted&lt;/q>
&lt;address>address&lt;/address>
&lt;hr> &lt;!--a new line-->
</pre>
</li>
<li>
<h4>Image</h4>
<pre class="brush:xml">
&lt;img src="./location/picture.png" width="200" height="200" alt="text shown if picture not existed">
</pre>
</li>
<li>
<h4>Table</h4>
<pre class="brush:xml">
&lt;table>
    &lt;thead>
        &lt;tr> <!-- table title-->
            &lt;th>Name&lt;/th>&lt;th>Age&lt;/th>
        &lt;/tr>
    &lt;/thead>
    &lt;tbody>
        &lt;tr>
            &lt;td>Nan Qin&lt;/td>&lt;td>23&lt;/td>
        &lt;/tr>
        &lt;tr>
            &lt;td>Xiaoming&lt;/td>&lt;td>45&lt;/td>
        &lt;/tr>
    &lt;/tbody>
&lt;/table>
</pre>
</li>
<li>
<h4>List</h4>
<pre class="brush:xml">
&lt;ul>
    &lt;li>ordered list&nbsp;ol&lt;/li>
&lt;/ul>
&lt;ul>
    &lt;li>unordered list&nbsp;ul&lt;/li>
&lt;/ul>
&lt;ul>
    &lt;li>list content&nbsp;li&lt;/li>
&lt;/ul>
</pre>
</li>
<li>
<h4>Form</h4>
<div class="terminology">
<ul>
<li>form is inline.</li>
<li>input's type can be text, submit</li>
<li>label is inline.</li>
<li>form's attributes: action, method; input's type: text, submit, radio (select one among mutliple)</li>
<li>GET https://www.example.com/?FirstName=Mickey&amp;LastName=Mouse</li>
<li>However, this html page will be reload. So using AJAX</li>
</ul>
</div>
<form action = "https://www.example.com" method = "get">
<label>First name: </label><input type="text" name="FirstName" value="Mickey"><br>
<label>Last name: </label><input type="text" name="LastName" value="Mouse"><br>
<input type="submit" value="Submit">
</form>
<pre class="brush:xml">
&lt;form action = "https://www.example.com" method = "get">
&lt;label>First name: &lt;/label>&lt;input type="text" name="FirstName" value="Mickey">&lt;br>
&lt;label>Last name: &lt;/label>&lt;input type="text" name="LastName" value="Mouse">&lt;br>
&lt;input type="submit" value="Submit">
&lt;/form>
</pre>
</li>
    <li>
        <h4>Button</h4>
        <button type = "button" onclick = "alert('Hello World')">Content</button>
        <pre class="brush:xml">
            &lt;button type = "button" onclick="alert('Hello World')"&gt;Content&lt;/frame&gt;
        </pre>
    </li>
</ol>
</div>
</div>
</li>
<li>
    <div class="content" id="file">
        <h3>File Upload</h3>
        <p>Uploading a file/files can be achieved using <i>form type="file"</i> or ajax.
            <br>Using form will cause entire page reload, so ajax has a better user experience.
        </p>
        <p>HTML5 provide File API, which allows displaying a local image by reading the image.<br>
            The first step is that a user drag or using form to select the file, and then we obtain a File or a FileList object that allow JS to access these files.
            <br>After that, we can either upload the file or display the file (e.g. an image) on the browser.
        </p>
        <div class="featureList">
            <ol>
                <li>
                        <h4>Form File Upload</h4>
                        <form id="upload-image-1" style="border: 1px solid gray" action="/upload" enctype="multipart/form-data" method="POST"> 
                            <input id="image-input" type="file" name="imageFile" multiple="multiple"/>
                            <input type="submit" value="Upload Photo"/>
                        </form>
                        <pre class="brush:xml">
                            &lt;form id="upload-image-1" style="border: 1px solid gray" action="/upload" enctype="multipart/form-data" method="POST"> 
                                &lt;input id="image-input" type="file" name="imageFile" multiple="multiple"/>
                                &lt;input type="submit" value="Upload Photo"/>
                            &lt;/form>
                        </pre>
                </li>
                <li>
                    <h4>Ajax file upload</h4>
                    <form id="upload-image-2" style="border: 1px solid gray" action="/upload" enctype="multipart/form-data" method="POST"> 
                        <input id="image-input-2" type="file" name="imageFile" multiple="multiple"/>
                        <input type="submit" value="Upload Photo"/>
                    </form>
                    <script>
                        const submit = (files)=>{
                            console.log(files);
                            if(files.length === 0){
                                return false;
                            }
                            let formData = new FormData();
                            for (let i=0; i < files.length; i++) {
                                let file = files[i];
                                console.log(file);
                                formData.append('imageFiles', file, file.name);
                            };

                            $.ajax({
                                url: '/upload_multiple',
                                method: 'post',
                                data: formData,
                                processData: false,
                                contentType: false,
                                xhr: () => {
                                    // optional
                                    var xhr = new XMLHttpRequest();
                                    // Add progress event listener to the upload.
                                    xhr.upload.addEventListener('progress', function (event) {
                                    console.log("Progress", event.lengthComputable, event.loaded, event.total);
                                    });
                                    return xhr;
                                }
                            }).done((d)=>{
                                console.log("result", d);
                            }).fail((xhr, status)=>{
                                console.log("err", status);
                            });
                        }

                        $('#upload-image-2').submit((event)=>{
                            event.preventDefault();
                            return submit($('#image-input-2').get(0).files);
                        });
                    </script>
                    <pre class="brush:js">
                        // we use same HTML to obtain file 
                        // we stop the default behavior
                            const submit = (files)=>{
                                console.log(files);
                                if(files.length === 0){
                                    return false;
                                }
                                let formData = new FormData();
                                for (let i=0; i &lt; files.length; i++) {
                                    let file = files[i];
                                    console.log(file);
                                    formData.append('imageFiles', file, file.name);
                                };
    
                                $.ajax({
                                    url: '/upload_multiple',
                                    method: 'post',
                                    data: formData,
                                    processData: false,
                                    contentType: false,
                                    xhr: () => {
                                        // optional
                                        var xhr = new XMLHttpRequest();
                                        // Add progress event listener to the upload.
                                        xhr.upload.addEventListener('progress', function (event) {
                                        console.log("Progress", event.lengthComputable, event.loaded, event.total);
                                        });
                                        return xhr;
                                    }
                                }).done((d)=>{
                                    console.log("result", d);
                                }).fail((xhr, status)=>{
                                    console.log("err", status);
                                });
                            }
    
                            $('#upload-image-2').submit((event)=>{
                                event.preventDefault();
                                return submit($('#image-input-2').get(0).files);
                            });
                    </pre>
                </li>
                <li>
                    <h4>Using drag to obtain file</h4>
                    <div id="drag-file" style="border: 1px solid gray; width: 400px; height: 200px;">
                        <div id="drop-area" style="border: 1px dashed gray; width: 360px; height: 160px; margin: 20px auto 20px auto; border-radius: 10px;">
                        </div>
                    </div>
                    <script>
                        let drop_area = document.getElementById('drop-area');
                        drop_area.addEventListener('dragover', (event)=>{
                            event.stopPropagation();
                            event.preventDefault();
                            event.dataTransfer.dropEffect = 'copy'; 
                            document.getElementById('drop-area').style.borderColor = 'red';
                        });
                        drop_area.addEventListener('dragleave', (event)=>{
                            event.stopPropagation();
                            event.preventDefault();
                            document.getElementById('drop-area').style.borderColor = 'gray';
                        });
                        drop_area.addEventListener('drop', (event)=>{
                            event.stopPropagation();
                            event.preventDefault();
                            let files = event.dataTransfer.files;
                            console.log(files);
                            submit(files);
                        });
                    </script>
                    <pre class="brush:js">
                            let drop_area = document.getElementById('drop-area');
                            drop_area.addEventListener('dragover', (event)=>{
                                event.stopPropagation();
                                event.preventDefault();
                                event.dataTransfer.dropEffect = 'copy'; 
                                document.getElementById('drop-area').style.borderColor = 'red';
                            });
                            drop_area.addEventListener('dragleave', (event)=>{
                                event.stopPropagation();
                                event.preventDefault();
                                document.getElementById('drop-area').style.borderColor = 'gray';
                            });
                            drop_area.addEventListener('drop', (event)=>{
                                event.stopPropagation();
                                event.preventDefault();
                                let files = event.dataTransfer.files;
                                console.log(files);
                                submit(files);
                            });
                    </pre>
                </li>
                <li>
                    <h4>Display local image</h4>
                    <p>Read the local image as DataURL, and then set image src to the DataUrl</p>
                    <input id="show-image" type="file">
                    <div>
                        <img id="xImg" src="" width="200" height="200">
                    </div>
                    <script>
                        document.getElementById('show-image').addEventListener('change', (event)=>{
                            event.preventDefault();
                            let files = document.getElementById('show-image').files;
                            console.log(files);
                            let reader = new FileReader();
                            reader.onload = (e)=>{
                                document.getElementById('xImg').src= e.target.result;
                            };
                            reader.readAsDataURL(files[0]);

                        });
                    </script>
                    <pre class="brush:js">
                        document.getElementById('show-image').addEventListener('change', (event)=>{
                            event.preventDefault();
                            let files = document.getElementById('show-image').files;
                            console.log(files);
                            let reader = new FileReader();
                            reader.onload = (e)=>{
                                document.getElementById('xImg').src= e.target.result;
                            };
                            reader.readAsDataURL(files[0]);

                        });
                    </pre>
                </li>
            </ol>
        </div>
        

    </div>
</li>
<li>
    <div class="content" id="reference">
        <h3>References</h3>
        <div class="featureList">
            <ol>
                <li><a href="https://www.html5rocks.com/en/tutorials/file/dndfiles/" target="_blank">Reading files in JavaScript using the File APIs</a></li>
            </ol>
        </div>
    </div>
</li>
</ol>
</div>
    
</body>
</html>
