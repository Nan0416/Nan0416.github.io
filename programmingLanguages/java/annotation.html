<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Oct 08 22:41:36 PDT 2017 -->
<title>Java&nbsp;Annotation</title>
<meta charset="utf-8">
<meta name="date" content="2018-03-15">
<meta name="keywords" content="annotation">
<meta name="keywords" content="java">

<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/XRegExp.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shCore.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushCpp.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushJava.js"></script>
<link href="../../syntaxHighlight_css_c/shCore.css" rel="stylesheet" type="text/css" />
<link href="../../syntaxHighlight_css_c/shThemeDefault.css" rel="stylesheet" type="text/css" />



</head>
<body>
<script>
SyntaxHighlighter.config.strings.expandSource = '+ expand source';
SyntaxHighlighter.config.strings.help = '?';
SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
SyntaxHighlighter.defaults['pad-line-numbers'] = false;
SyntaxHighlighter.defaults['toolbar'] = false;
SyntaxHighlighter.all()
</script>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="bar">
<center><strong>Java&nbsp;-&nbsp;Annotation</strong></center>
</div>
<p class="date"><span class="created-date">Created:2018-03-15</span>&nbsp;&nbsp;<span class="last-modified">Last modified:2018-03-15</span></p>
<div class="catalog">
<ul class="catalogItems">
<li><a href="#annotationIntro">Introduction</a></li>
<li><a href="#annotationUser">User-defined Annotation</a></li>
<li><a href="#annotationUsage">Using Annotation</a></li>
<li><a href="#annotationReflection">Runtime annotation with class reflection</a></li>
<li><a href="#annotationReference">References</a></li>
</ul>
</div>
<hr>
<div class="contentContainer">
<ol>
<li>
<div class="content" id="annotationIntro">
<h3>Introduction</h3>
<p>Annotation is a Java language feature that is used to generate javadoc, checking during complication, changing code behavior.</p>
<p>It is on the same level of class, interface, and enum</p>
<p>Java provides a few default annotations.</p>
<h4>Common annotation</h4>
<div class="featureList">
<ol>
<li>Override, tells the compiler (and us) the following method intents to override a function in the parent class.<br>
    It marks just before the child's method</li>
<li>Deprecated, is used by the code provider to tell the code user that the following method is deprecated. The user can still use it, but it is not recommended.
<br>It marks just before the provider's method</li>
<li> SuppressWarnings("deprecation") is used in the user's code to tells the compiler ignore the following deprecation warning.
<br>It marks just before the user's method that employees a deprecated function.</li>
</ol>
</div>
</div>
</li>
<li>
<div class="content" id="annotationUser">
<h3>User-defined Annotation</h3>
<p>Annotation has 3 types in terms of the lifecycle: 1). source code annotation; 2). compiler annotation; 3). runtime annotation. <br>(override, deprecated, suppresswarnings are compiler annotations)</p>
<p>Annotation has 3 types in terms of the usage: 1). standard annotation; 2). meta annotation; 3). user-defined annotation</p>

<h4>Example</h4>
<pre class="brush:java">
package javatutorial.annotation;

import java.lang.annotation.*;

// meta annotation
@Target({ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME)
@Inherited
@Documented


public @interface Description {
    String deviceType();
    String deviceVendor();
    int num() default 18;

}

</pre>
<div class="featureList">
<h4>meta annotation</h4>
<p>Meta annotation is used to configure the following user-defined annotation.</p>

<ol>
<li>
<strong>@Target: specify the scope of the annotation</strong>: it is for<br>
<i> * constructor<br>
    * field<br>
    * local_variable<br>
    * method<br>
    * package<br>
    * parameter<br>
    * type (class, interface)</i>
</li>
<li>
<strong>
@Retention(RetentionPolicy.RUNTIME)
</strong>: it defines the phase of lifecycle:<br>
<i> * source<br>
    * class<br>
    * runtime, with reflection</i>
</li>
<li>
<strong>@Inherited</strong>: the subclass of the class that use the annotation will also have this annotation
</li>
<li>
<strong>@Documented</strong>: the generate java doc will include the annotation.
</li>
</ol>
</div>
<div class="featureList">
<h4>Define annotation</h4>
<ol>
<li>annotation member, no variable, all in function form</li>
<li>no parameter, no throwing exception</li>
<li>return type can only be primitive types, String, Class, Annotation and Enumeration</li>
<li>can have default value</li>
</ol>
<p class="starMark">* If just having one member, the value of this member is value()</p>
<p class="starMark">* If having no member, this annotation is called标示注解</p>
</div>

</div>
</li>
<li>
<div class="content" id="annotationUsage">
<h3>Using Annotation</h3>
<p>Annotation is used before the right element</p>
<p>e.g. If an annotation is defined as @Target({ElementType.METHOD}), then this annotation should use before a class method member.</p>
<p>@Annotation(membername="value", ...) // the order is not important</p>
<p>If only one member, then the name can be ignored.</p>
</div>
</li>
<li>
<div class="content" id="annotationReflection">
<h3>Runtime annotation with class reflection</h3>
<p>Using reflection to obtain the class, method, field ...' Runtime annotation.</p>
<h4>Class</h4>
<p>get a class object. Class object can access the annotation whose target is Type</p>
<div class="featureList">
<ol>
<li>.isAnnotationPreset(AnnotationType.class):bool</li>
<li>.getAnnotation(Annotation.class): Annotation, we need <strong>cast</strong> to a normal annotation.</li>
</ol>
<pre class="brush:java">
    public static void main(String [] args){
        Washer ws = new Washer("Washing Machine");
        System.out.println(ws.getName());
        Class c = ws.getClass();
        if(c.isAnnotationPresent(Description.class)){
            System.out.println("Description annotation is found at " + c.getName());
            Description ds = (Description) c.getAnnotation(Description.class);
            System.out.println(ws.getName() + " is a " + ds.deviceType() + " production of " + ds.deviceVendor());
        }
        if(c.isAnnotationPresent(Version.class)){
            System.out.println("Version annotation is found at " + c.getName());
            Version ds = (Version) c.getAnnotation(Version.class);
            System.out.println(ws.getName() + " firmware version " + ds.version());
        }
    }
</pre>
</div>
</div>
</li>
</ol>
</div>
    
</body>
</html>
