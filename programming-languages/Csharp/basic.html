<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_151) on Sun Oct 08 22:41:36 PDT 2017 -->
<title>C#&nbsp;Basic</title>
<meta charset="utf-8">
<meta name="date" content="2018-09-28">
<meta name="keywords" content="">
<meta name="keywords" content="">
<meta name="keywords" content="">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/XRegExp.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shCore.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushCpp.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushJava.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushXml.js"></script>
<script type="text/javascript" src="../../syntaxHighlight_js_c/shBrushBash.js"></script>
<link href="../../syntaxHighlight_css_c/shCore.css" rel="stylesheet" type="text/css" />
<link href="../../syntaxHighlight_css_c/shThemeDefault.css" rel="stylesheet" type="text/css" />

<script src="https://d3js.org/d3.v4.min.js"></script>

</head>
<body>
<script>
SyntaxHighlighter.config.strings.expandSource = '+ expand source';
SyntaxHighlighter.config.strings.help = '?';
SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
SyntaxHighlighter.defaults['pad-line-numbers'] = false;
SyntaxHighlighter.defaults['toolbar'] = false;
SyntaxHighlighter.all()
</script>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="bar">
<strong>C#&nbsp;-&nbsp;Basic</strong>
</div>
<p class="date"><span class="created-date">Created:2018-09-28</span>&nbsp;&nbsp;<span class="last-modified">Last modified:2019-06-19</span></p>
<div class="catalog">
<ul class="catalogItems">
<li><a href="#intro">Types</a></li>
<li><a href="#array">Array</a></li>
<Li><a href="#expression">Expression</a></Li>
<li><a href="#flowcontrol">Flow control</a></li>
<li><a href="#cmd">Command Line</a></li>
<li><a href="#reference">References</a></li>
</ul>
</div>
<hr>
<p style="color:red;font-size: 14px;">local variables must be assigned a value before using. members does not need to have.</p>
<hr>
<div class="contentContainer">
<ol>
<li>
<div class="content" id="intro">
<h3>Types</h3>
<p>C# has two kinds of types: value types and reference types. But all types, including int, inherit from object.</p>
<div class="featureList">
    <ol>
        <li>
            <h4>Value types</h4>
            <p>Value types: primitive types, enum, struct, and nullable.</p>
            <p>1). sbyte, byte, short, ushort, int, uint, long, ulong, char, float, double, <span style="color:red">decimal (128bit high-percision decimal)</span>, bool. (<span style="color:red">Java only has signed numbers</span>)<br>
            2). struct: Java does not have struct, this struct is similar to C/C++ struct<br>
            3). <span style="color:red">Each type except null, e.g. int, string, has a nullable type e.g. int?, string?. The nullable type's value can be a normal value or null.</span>
        </li>
        <li>
            <h4>Reference types</h4>
            <p>reference types: Class, Interface, Array, and Delegate.</p>
            <p>Delegate (<span style="color:red">function pointer</span>): delegate type represents references to methods with a particular parameter list and return type.</p>
            <p><span style="color:red">Primitive types, null and array are provided by C#, developers can use them but not define them.</span><br>
                Enum, struct, class interface and delegate are definable.<br>
                class, struct, interface, delegate support generics.
                </p>
        </li>
        <li>
            <h4>Box/Unbox</h4>
            <pre class="brush:cpp">
                int i = 123;
                object o = i;    // Boxing: allocate a space from heap, copy the value type's value into the reference type's space.
                int j = (int)o;  // Unboxing: check if the box has the related value type; then copy the data out of the box into the value variable (on stack)
            </pre>
        </li>
        <li>
            <h4>var</h4>
            <p>var is used to define a variable <span style="color:red">only within a method scope</span>. var defined variable has implicit type that provides by compiler. And this implicit type can already be defined e.g. 
                string, it can also be some types that are not defined yet.</p>
            <p>Support: C# 3.0 and later</p>
            <pre class="brush:cpp">
                static void Main(string[] args)
                {
                    var message = "Hello World!";
                    Console.WriteLine(message);
                    Console.WriteLine(message.GetType()); // System.String

                    var person =  new {  // var receive an anonymous class.
                        name = "Nan Qin", 
                        desc = "A nice person." };
                    Console.WriteLine(person.GetType()); // &lt;>f__AnonymousType0`2[System.String,System.String]

                    // .name and .desc properties are read-only
                }
            </pre>
        </li>
        <li>
            <h4>Nullable Type</h4>
            <p>C# value type's variables cannot be set to null. e.g. int, enum, struct ... If we declare a variable of value type without initializing a value, it will be set to its default value.
                <span style="color:red">However, C# provides a way to make these non-nullable value type variable nullable.</span>
            </p>
            <pre class="brush:cpp">
                // int year = null;
                // Cannot convert null to 'int' because it is a non-nullable value type.

                int? year = null;    
            </pre>
            <p>With a question mark, now it become nullable, which means it can be set to null. <span style="color:red">Reference type is naturally "nullable", so the question 
                mark cannot be used with reference type. However, reference type cannot be called nullable type, nuallable type are defined as value type with null.</span></p>
            <p>The ? is acutally implemented as a System.Nullable&lt;T> generic.</p>
            <pre class="brush:cpp">
                System.Nullable&lt;int> year = 10; // int + null => int?

                int year = 2019;
                int? year2 = null;
                // year = year2 ; nullable type can be assigned to a non-nullable type.
                bool same = (year == year2); // comparison is allowed.

            </pre>
            <h4>Null conditional operator ?. (Elvis operator)</h4>
            <p>?. can form a chain, if any value is null, the evaluation of the expression is ended and return null.<span style="color:red">?. primarily used with reference type,  nullable type does not need to have ?.</span></p>
            <pre class="brush:cpp">
                // nullable type does not need to have ?.
                
                int? year = null;
                string month = null;
                string str = year?.ToString();
                str = year.ToString();
                str = month?.ToString(); 
                str = month.ToString(); // error.

            </pre>
            <h4>Null-coalescing operator ??</h4>
            <p>variable = expression/variable ?? expression/variable/value. <span style="color:red">If the lefthand-side is null, then return the righthand-side. So it does not make sense if the lefthand-side is a immediate value or a non-nullable type. </span></p>
            <p>The lefthand side of ?? can be nullable and reference type. Depending on the variable type, the righthand side may be OK to be nullable.</p>
            <pre class="brush:cpp">
                string text = "message";
                int length = text?.Length ?? 0; // righthand side cannot be null since int cannot be null.
                int? length2 = text?.Length ?? null; // righthand side be null since int? can be null.

                
            </pre>
            <p style="color:red">a ?? b ?? c    ===  a ?? (b ?? c)</p>
        </li>
        
    </ol>
</div>



</div>
</li>
<li>
    <div class="content" id="array">
        <h3>Array</h3>
        <div class="featureList">
            <ol>
                <li>Loop a multi-dimensional array
                    <pre class="brush:c++">
                            int [,] arr= new int[2,2] {{1,2}, {3,4}};
                            for (int i = 0; i &lt; arr.GetLength(0); i++)
                            {
                                for (int j = 0; j &lt; arr.GetLength(1); j++)
                                {
                                    Console.WriteLine(arr[i,j]); // 1 2 3 4
                                }
                            }
                    </pre>
                </li>
            </ol>
        </div>
    </div>
</li>
<li>
    <div class="content" id="expression">
        <h3>Expression</h3>
        <div class="featureList">
            <ol>
                <li>i++, i-- is allowed in C#, (Java, C, C++ as well), (Not allowed in Python)</li>
                <li>typeof(object): Obtains a Type object. Type is Class (Java Class class)</li>
                <li>(T)object: casting <span style="color:red">!!!!In C#, user can define how to cast variables. NEVER SEEN IN OTHER LANGUAGES.</span></li>
                <li>object as T: return a casted object. If cannot cast, return null.</li>
                <li>object is T: return true if object's type is T</li>
                <li>default operator
                    <pre class="brush:c++">
                        int i = default(int); // use default to obtain the default type 
                        string str = default(string);
                        Console.WriteLine(i); // 0
                        Console.WriteLine(str == null); // true
                    </pre>
                </li>
                <li>check/uncheck operator<br>
                    By default, variable value operation casued overflow is allowed. immediate value operation caused overflow is not allowed.
                     is used to explicitly enable overflow checking for integral-type arithmetic operations and conversions
                    <pre class="brush:c++">
                        // Console.writeLine(2147483647 + 10); // immediate value addition overflow is not allowed, compile error.
                        Console.WriteLine(unchecked(2147483647 + 10)); // -2147483639, ignore this error.
                        int ten = 10;
                        Console.writeLine(2147483647 + ten); // -2147483639
                        Console.WriteLine(checked(2147483647 + ten)); // throw System.OverflowException 
                    </pre>
                </li>
                <li>C# string interploation<br>
                <pre class="brush:c++">
                    string name = "Tom";
                    int age = 2;
                    string sentence = $"{name} is {age} year{(age == 1 ? "" : "s")} old.";
                    Console.WriteLine(sentence); // Tom is 2 years old.
                </pre>
                </li>
            </ol>
        </div>
    </div>
</li>
<li>
    <div class="content" id="flowcontrol">
        <h3>Flow control</h3>
        <div class="featureList">
            <ol>
                <li>Switch (C# 7.0: any non-null expression), (C# 6.0: char, string, bool, integer, enum value)
                    <br><span style="color:red">From JDK 7.0, java switch support String, and primitive types (cannot be null)</span>
                </li>
                <li>Traditional if else if else, while, do-while, for</li>
                <li>foreach(string s in string_arr){} can be used if string_arr implemented System.Collections.IEnumerable
                    <pre class="brush:c++">
                        for(String s: string_arr){

                        } 
                        for(Iterator&lt;String> it = string_collections.iterator(); it.hasNext();) {
                            // java syntactic sugar for iterable collections
                        }
                        for(int i = 0; i &lt; string_arr.length; i++){
                            // for array.
                        } 
                    </pre>
                </li>
                <li>
                    yield (python also has yield, and same function) is used to implement a iterator.
                    <pre class="brush:c++">
                        using System;
                        using System.Collections.Generic;
                        class X{
                            public IEnumerable&lt;int> action(){
                                yield return 1;
                                yield return 2;
                                yield return 3;
                            }
                        }
                        class Program
                        {
                            static void Main(string[] args)
                            {
                                X temp = new X();
                                foreach(int c in temp.action()){
                                    Console.WriteLine(c); // 1 2 3
                                }
                            }
                        }
                    </pre>
                </li>
            </ol>
        </div>
    </div>
</li>
<li>
    <div class="content" id="cmd">
        <h3>Command Line</h3>
        <div class="featureList">
            <ol>
                <li><h4>dotnet</h4>
                    dotnet is command line to for launching applications, initializing projects, installing dependencies<br>
                    dotnet cmd-name [cmd-options] [arguments] 
                </li>
                <li><h4>.csproj</h4>
                    .csproj is the file defined project, dependecies and so on. It is like Node.js "package.json"
                    
                    <pre class="brush:xml">
&lt;Project Sdk="Microsoft.NET.Sdk.Web">
    &lt;PropertyGroup>
        &lt;TargetFramework>netcoreapp2.2&lt;/TargetFramework>
        &lt;AspNetCoreHostingModel>InProcess&lt;/AspNetCoreHostingModel>&lt;!--App configuration properties, see ASP.NET framework-->
        &lt;RootNamespace>dotnet_web_api&lt;/RootNamespace>
    &lt;/PropertyGroup>
                          
    &lt;ItemGroup>
        &lt;PackageReference Include="Microsoft.AspNetCore.App" />
        &lt;PackageReference Include="Microsoft.AspNetCore.Razor.Design" Version="2.2.0" PrivateAssets="All" />
        &lt;PackageReference Include="Npgsql" Version="4.0.5" />
    &lt;ItemGroup>
                          
&lt;/Project>
                          
                    </pre>
                   <p><span style="color:red">.sln is Visual Studio IDE speicified file.</span></p>
                </li>
                <li><h4>dotnet new template-name [template-options] [new-options]</h4>
                <pre class="brush:bash">
                    # dotnet create projects based on some well-defined template, such as console application template, asp.net template
                    dotnet new console --name test-project --output dir # create a project based on console template, which have name "test-project" and created in dir.
                </pre>
                </li>
                <li><h4>dotnet run [run-options] [program-inputs]</h4>
                    <p>run-options goes before program-inputs</p>
                    <pre class="brush:bash">
                        # run-options:  --project project-location, default is current
                        #               --verbose show building message
                        #               --launch-profile, a profile is launchSetting.json used to configure ASP.NET apps. Console application does not have it by default.
                        #array                              by convention, console app is configured by appsettings.json
                        dotnet run
                    </pre>
                </li>
                <li><h4>dependencies</h4>
                    <p>Microsoft using <a href="https://www.nuget.org" target="_blank">NuGet</a> (same as the tool of Node.js npm) to manage packages. Go to https://www.nuget.org and find a right 
                        package, its webpage will also give a command to download this package.
                    </p>
                    <pre class="brush:bash">
                        dotnet add package Newtonsoft.Json --version 12.0.1
                    </pre>
                    <h4>NuGet</h4>
                    <p>NuGet's default configuration file is in ~/.nuget/NuGet/NuGet.Config, which specify the where to find desired packages. e.g. Newtonsoft.Json.
                    Once the package is found, it will be download into ~/.nuget/packages.
                    </p>
                    <p>When using "dotnet add package", it will create a entry <br>
                        <span style="color:red"> &lt;Include="Newtonsoft.Json" Version="12.0.1" /></span> <br>
                        inside the .csproj, which indicates the project depends on Newtonsoft.Json version 12.0.1. 
                    Moreover, "dotnet add" will also automatically download this package to ~/.nuget/packages. And when running this app, the dotnet runtime 
                    will try to find the package under the ~/.nuget/package by default.
                    </p>
                    <h4>dotnet restore</h4>
                    <p>dotnet restore will download the package that specified in .csproj</p>

                </li>
            </ol>
        </div>
    </div>
</li>
<li>
<div class="content" id="reference">
<h3>References</h3>
<div class="featureList">
    <ol>
        <li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/tour-of-csharp/types-and-variables" target="_blank">Types and variables</a></li>
        <li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/tour-of-csharp/expressions" target="_blank">Expression</a></li>
        <li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/member-access-operators#null-conditional-operators--and-" target="_blank">Null-conditional operators ?. and ?[] (Elvis operator)</a></li>
    </ol>
</div>
</div>
</li>
</ol>
</div>
    
</body>
</html>
